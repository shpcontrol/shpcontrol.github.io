(function(){"use strict";var e={94:function(e,t,n){var o=n(9242),s=(n(8937),n(3396));function a(e,t,n,o,a,i){const r=(0,s.up)("InstallWallet"),d=(0,s.up)("WrongNetwork"),l=(0,s.up)("TopInfo"),c=(0,s.up)("PromoBuy"),p=(0,s.up)("LoadingPlaceholder"),u=(0,s.up)("TokenList"),y=(0,s.up)("TokenSend"),m=(0,s.up)("TokenContest");return i.hasWallet?a.wrongNetwork?((0,s.wg)(),(0,s.j4)(d,{key:1})):((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s.Wm)(l,{account:a.account,tokens:a.tokens,onOnUpdate:i.updateMyTokens,synced:a.synced,syncedPercent:a.syncedPercent},null,8,["account","tokens","onOnUpdate","synced","syncedPercent"]),i.showPromo?((0,s.wg)(),(0,s.j4)(c,{key:0})):(0,s.kq)("",!0),i.showLoading?((0,s.wg)(),(0,s.j4)(p,{key:1})):(0,s.kq)("",!0),(0,s.Wm)(u,{tokens:a.tokens,page:a.tokenListPage,perPage:a.tokensUpdateBatch,onChangeTokenListPage:i.changeTokenListPage,onSendToken:i.displaySendTokenDialog,onContestToken:i.displayContestTokenDialog},null,8,["tokens","page","perPage","onChangeTokenListPage","onSendToken","onContestToken"]),void 0!==a.tokenIdToSend?((0,s.wg)(),(0,s.j4)(y,{key:2,onClose:t[0]||(t[0]=e=>i.displaySendTokenDialog(void 0)),onSend:i.sendToken,web3:a.web3},null,8,["onSend","web3"])):(0,s.kq)("",!0),void 0!==a.tokenIdToContest?((0,s.wg)(),(0,s.j4)(m,{key:3,onClose:t[1]||(t[1]=e=>i.displayContestTokenDialog(void 0)),onContest:i.contestToken,account:a.account,contract:a.contract,contestContract:a.contestContract},null,8,["onContest","account","contract","contestContract"])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.j4)(r,{key:0}))}var i=n(1832),r=n.n(i),d=n(6265),l=n.n(d),c={methods:{async getTotalSupply(e,t){return parseInt(await e.methods.totalSupply().call({from:t}))},async ownerOf(e,t,n){return await e.methods.ownerOf(n).call({from:t})},async getTokenURI(e,t,n){return await e.methods.tokenURI(n).call({from:t})},async safeTransferFrom(e,t,n,o,s){console.log("Send token",s,"to",o);let a=await e.eth.getGasPrice();console.log("Estimated gas price",a);try{await t.methods.safeTransferFrom(n,o,s).send({from:n,gasPrice:a})}catch(i){return console.log("Send token was cancelled"),!1}return console.log("Send completed"),!0},async getContestCurrentCountOfMembers(e,t){return parseInt(await e.methods.currentCountOfMembers().call({from:t}))},async getContestCountOfMembersToCheck(e,t){return parseInt(await e.methods.countOfMembersToCheck().call({from:t}))}}};const p=c;var u=p;const y={class:"row"},m={class:"col d-flex justify-content-center"},g=["src"];function h(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("div",m,[(0,s._)("img",{src:a.imageLink},null,8,g)])])}var k=n.p+"img/loading.a720580b.gif",f={data(){return{imageLink:k}}},w=n(89);const b=(0,w.Z)(f,[["render",h]]);var v=b,T=n(7139);const C={class:"navbar navbar-expand-md navbar-light bg-light mb-4"},_={class:"container-fluid"},P={class:"navbar-brand",href:"#"},I=["src"],S=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),O={class:"collapse navbar-collapse",id:"navbarNavDropdown"},x={class:"navbar-nav"},D={class:"nav-item dropdown"},M=(0,s._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Account ",-1),A={class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},L={class:"dropdown-item disabled",href:"#",tabindex:"-1","aria-disabled":"true"},B={class:"dropdown-item disabled",href:"#"},j={key:0};function U(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("nav",C,[(0,s._)("div",_,[(0,s._)("a",P,[(0,s._)("img",{src:a.sheepLogo,alt:"",width:"30",height:"24"},null,8,I)]),S,(0,s._)("div",O,[(0,s._)("ul",x,[(0,s._)("li",D,[M,(0,s._)("ul",A,[(0,s._)("li",null,[(0,s._)("a",L,"Address: "+(0,T.zw)(n.account),1)]),(0,s._)("li",null,[(0,s._)("a",B,[(0,s._)("span",{style:(0,T.j5)({color:n.synced?"green":"red"})},"â— "+(0,T.zw)(n.syncedPercent)+"%",5),(0,s.Uk)(" Assets: "+(0,T.zw)(n.tokens.length),1)])]),n.synced?((0,s.wg)(),(0,s.iD)("li",j,[(0,s._)("a",{class:"dropdown-item",href:"#",onClick:t[0]||(t[0]=t=>e.$emit("onUpdate"))},"Update")])):(0,s.kq)("",!0)])])])])])])}var z=n.p+"img/sheep.80baec9d.png",N={props:["account","tokens","synced","syncedPercent"],emits:["onUpdate"],data(){return{sheepLogo:z}}};const Z=(0,w.Z)(N,[["render",U]]);var R=Z;const W={class:"row"};function F(e,t,n,o,a,i){const r=(0,s.up)("TokenItemControlable"),d=(0,s.up)("PaginationBar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",W,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tokensOnPage,(n=>((0,s.wg)(),(0,s.j4)(r,{key:n.tokenId,token:n,onSendToken:t[0]||(t[0]=t=>e.$emit("sendToken",t)),onContestToken:t[1]||(t[1]=t=>e.$emit("contestToken",t))},null,8,["token"])))),128))]),(0,s.Wm)(d,{curPage:n.page,items:n.tokens,itemsPerPage:n.perPage,pageDelta:5,onChangeCurPage:t[2]||(t[2]=t=>e.$emit("changeTokenListPage",t))},null,8,["curPage","items","itemsPerPage"])],64)}const $={class:"card-body"},q={class:"row"},G={class:"col d-flex justify-content-start"},Y={class:"col d-flex justify-content-end"};function H(e,t,n,o,a,i){const r=(0,s.up)("TokenItem");return(0,s.wg)(),(0,s.j4)(r,{token:n.token},{default:(0,s.w5)((()=>[(0,s._)("div",$,[(0,s._)("div",q,[(0,s._)("div",G,[(0,s._)("a",{href:"#",class:"btn btn-primary",onClick:t[0]||(t[0]=t=>e.$emit("sendToken",n.token.tokenId))},"Send")]),(0,s._)("div",Y,[(0,s._)("a",{href:"#",class:"btn btn-danger",onClick:t[1]||(t[1]=t=>e.$emit("contestToken",n.token.tokenId))},"Contest!")])])])])),_:1},8,["token"])}function J(e,t,n,o,a,i){const r=(0,s.up)("TokenItemPlaceholder");return(0,s.wg)(),(0,s.j4)(r,{imageLink:a.imageLink,tokenId:n.token.tokenId,name:n.token.tokenJSON.name,description:n.token.tokenJSON.description,sheepContestBonus:i.sheepContestBonus,sex:i.sex,bloodGroup:i.bloodGroup,zodiacSign:i.zodiacSign,dateOfBirth:i.dateOfBirth},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["imageLink","tokenId","name","description","sheepContestBonus","sex","bloodGroup","zodiacSign","dateOfBirth"])}const E={class:"col-4 mb-4"},K={class:"card"},V=["src","alt"],Q={class:"card-body"},X={class:"card-title"},ee={class:"card-text"},te={class:"list-group list-group-flush"},ne={class:"list-group-item"},oe={class:"list-group-item"},se={class:"list-group-item"},ae={class:"list-group-item"},ie={class:"list-group-item"};function re(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("div",E,[(0,s._)("div",K,[(0,s._)("img",{src:n.imageLink,class:"card-img-top",alt:"Image of token "+n.tokenId},null,8,V),(0,s._)("div",Q,[(0,s._)("h5",X,(0,T.zw)(n.name),1),(0,s._)("p",ee,(0,T.zw)(n.description),1)]),(0,s._)("ul",te,[(0,s._)("li",ne,"Sheep Contest Bonus: "+(0,T.zw)(n.sheepContestBonus),1),(0,s._)("li",oe,"Sex: "+(0,T.zw)(n.sex),1),(0,s._)("li",se,"Blood Group: "+(0,T.zw)(n.bloodGroup),1),(0,s._)("li",ae,"Zodiac Sign: "+(0,T.zw)(n.zodiacSign),1),(0,s._)("li",ie,"Date Of Birth: "+(0,T.zw)(n.dateOfBirth),1)]),(0,s.WI)(e.$slots,"default")])])}var de={props:["imageLink","tokenId","name","description","sheepContestBonus","sex","bloodGroup","zodiacSign","dateOfBirth"]};const le=(0,w.Z)(de,[["render",re]]);var ce=le;async function pe(){let e=new Image;e.src=this.token.tokenJSON.image,e.onload=()=>{this.imageLink=e.src}}var ue={props:["token"],components:{TokenItemPlaceholder:ce},data(){return{imageLink:k}},methods:{getAttribute(e){return this.token.tokenJSON.attributes.filter((t=>t.trait_type===e))[0].value}},computed:{sheepContestBonus(){return this.getAttribute("Sheep Contest Bonus")},sex(){return this.getAttribute("Sex")},bloodGroup(){return this.getAttribute("Blood Group")},zodiacSign(){return this.getAttribute("Zodiac Sign")},dateOfBirth(){return new Date(1e3*this.getAttribute("Date of Birth")).toISOString().slice(0,10)}},mounted:pe};const ye=(0,w.Z)(ue,[["render",J]]);var me=ye,ge={props:["token"],emits:["sendToken","contestToken"],components:{TokenItem:me}};const he=(0,w.Z)(ge,[["render",H]]);var ke=he;const fe={class:"row"},we={class:"col-12 d-flex align-items-center justify-content-center"},be={class:"pagination"},ve=["onClick"];function Te(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("div",fe,[(0,s._)("div",we,[(0,s._)("ul",be,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pages,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,T.C_)(["page-item",{active:t===n.curPage}]),key:t},[(0,s._)("a",{class:"page-link",href:"#",onClick:n=>e.$emit("changeCurPage",t)},(0,T.zw)(t),9,ve)],2)))),128))])])])}var Ce={props:["curPage","items","itemsPerPage","pageDelta"],emits:["changeCurPage"],computed:{maxPage(){let e=Math.floor(this.items.length/this.itemsPerPage);return this.items.length%this.itemsPerPage>0&&(e+=1),e},pages(){let e=[];for(let t=Math.max(this.curPage-this.pageDelta,1);t<=Math.min(this.curPage+this.pageDelta,this.maxPage);++t)e.push(t);return e}}};const _e=(0,w.Z)(Ce,[["render",Te]]);var Pe=_e,Ie={props:["tokens","page","perPage"],emits:["changeTokenListPage","sendToken","contestToken"],components:{TokenItemControlable:ke,PaginationBar:Pe},computed:{tokensOnPage(){return this.tokens.slice((this.page-1)*this.perPage,this.page*this.perPage)}}};const Se=(0,w.Z)(Ie,[["render",F]]);var Oe=Se;const xe={class:"modal",tabindex:"-1",style:{display:"block"}},De={class:"modal-dialog"},Me={class:"modal-content"},Ae={class:"modal-header"},Le=(0,s._)("h5",{class:"modal-title"},"Send",-1),Be={class:"modal-body"},je={class:"mb-3"},Ue=(0,s._)("label",{for:"inputRecipientAddress",class:"form-label"},"Recipient address",-1),ze={class:"input-group has-validation"},Ne={key:0,id:"validationServerUsernameFeedback",class:"invalid-feedback"},Ze={class:"modal-footer"};function Re(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",xe,[(0,s._)("div",De,[(0,s._)("div",Me,[(0,s._)("div",Ae,[Le,(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=t=>e.$emit("close"))})]),(0,s._)("div",Be,[(0,s._)("div",je,[Ue,(0,s._)("div",ze,[(0,s.wy)((0,s._)("input",{type:"text",class:(0,T.C_)(["form-control",{"is-invalid":i.invalidAddress}]),id:"inputRecipientAddress","onUpdate:modelValue":t[1]||(t[1]=e=>i.recipientAddress=e),required:""},null,2),[[o.nr,i.recipientAddress]]),i.invalidAddress?((0,s.wg)(),(0,s.iD)("div",Ne," Please enter a correct ethereum address. ")):(0,s.kq)("",!0)])])]),(0,s._)("div",Ze,[(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=(...e)=>r.sendTokenToAddress&&r.sendTokenToAddress(...e))},"Send")])])])])}var We={props:["web3"],emits:["close","send"],data(){return{recipientAddress:"",invalidAddress:!1}},methods:{sendTokenToAddress(){this.web3.utils.isAddress(this.recipientAddress)?this.$emit("send",this.recipientAddress):this.invalidAddress=!0}}};const Fe=(0,w.Z)(We,[["render",Re]]);var $e=Fe;const qe={class:"modal",tabindex:"-1",style:{display:"block"}},Ge={class:"modal-dialog modal-lg"},Ye={class:"modal-content"},He={class:"modal-header"},Je=(0,s._)("h5",{class:"modal-title"},"Your opponents have put up against you",-1),Ee={class:"modal-body"},Ke={class:"row"},Ve={class:"card-body"},Qe={class:"row"},Xe={class:"col-12"},et={key:0,class:"text-success"},tt={class:"row"},nt={class:"col-12 d-flex justify-content-center"},ot={class:"text-primary"},st={class:"modal-footer"};function at(e,t,n,o,a,i){const r=(0,s.up)("TokenItem"),d=(0,s.up)("TokenItemPlaceholder");return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("div",Ge,[(0,s._)("div",Ye,[(0,s._)("div",He,[Je,(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=t=>e.$emit("close"))})]),(0,s._)("div",Ee,[(0,s._)("div",Ke,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.opponents,(e=>((0,s.wg)(),(0,s.j4)(r,{key:e.tokenId,token:e},{default:(0,s.w5)((()=>[(0,s._)("div",Ve,[(0,s._)("div",Qe,[(0,s._)("div",Xe,[(0,s.Uk)(" Opponent address: "+(0,T.zw)(e.address)+" ",1),e.address===this.account?((0,s.wg)(),(0,s.iD)("p",et," * It's you! ")):(0,s.kq)("",!0)])])])])),_:2},1032,["token"])))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.opponentsToStart,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e,imageLink:a.waitOpponentImage,tokenId:"???",name:"???",description:"???",sheepContestBonus:"???",sex:"???",bloodGroup:"???",zodiacSign:"???",dateOfBirth:"???"},null,8,["imageLink"])))),128))]),(0,s._)("div",tt,[(0,s._)("div",nt,[(0,s._)("p",ot,"Contest will be finished when we got yet "+(0,T.zw)(i.opponentsToStart)+" sheep(s). You're ready?",1)])])]),(0,s._)("div",st,[(0,s._)("button",{type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=t=>e.$emit("contest"))},"Yea, let's try!")])])])])}async function it(){this.neededOpponents=await this.getContestCountOfMembersToCheck(this.contestContract,this.account),this.opponents=await this.getContestOpponentsInfo()}var rt={mixins:[u],emits:["close","contest"],props:["account","contract","contestContract"],components:{TokenItem:me,TokenItemPlaceholder:ce},data(){return{opponents:[],neededOpponents:0,waitOpponentImage:k}},methods:{async getContestOpponentInfo(e){let t;try{t=await this.contestContract.methods.getMemberInfo(e).call({from:this.account})}catch(i){throw console.log("Contest: failed to get member",e,"info"),i}let n,o=t[0],s=t[1],a=await this.getTokenURI(this.contract,this.account,s);try{n=await l().get(a)}catch(i){throw console.log("Contest: network error with token",s,"tokenURI",a),i}return{address:o,tokenId:s,tokenJSON:n.data}},async getContestOpponentsInfo(){let e=[],t=await this.getContestCurrentCountOfMembers(this.contestContract,this.account);for(let o=0;o<t;++o)e.push(this.getContestOpponentInfo(o));try{return await Promise.all(e)}catch(n){return console.log("Contest: catch error from getContestOpponentInfo"),[]}}},computed:{opponentsToStart(){return this.neededOpponents-this.opponents.length}},mounted:it};const dt=(0,w.Z)(rt,[["render",at]]);var lt=dt;const ct={class:"row"},pt=(0,s._)("div",{class:"col-12 d-flex justify-content-center"},[(0,s._)("a",{href:"https://opensea.io/collection/sheep-competition"},"Buy your first sheep in our shop")],-1),ut=[pt];function yt(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("div",ct,ut)}var mt={};const gt=(0,w.Z)(mt,[["render",yt]]);var ht=gt;const kt={class:"row"},ft=(0,s._)("div",{class:"col-12"},[(0,s._)("h1",null,[(0,s.Uk)("Please, install "),(0,s._)("a",{href:"https://metamask.io/download/"},"suitable Ethereum wallet"),(0,s.Uk)(", and confirm to use it here")])],-1),wt=[ft];function bt(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("div",kt,wt)}var vt={};const Tt=(0,w.Z)(vt,[["render",bt]]);var Ct=Tt;const _t={class:"row"},Pt=(0,s._)("div",{class:"col-12"},[(0,s._)("h1",null,[(0,s.Uk)("Please, select in your wallet "),(0,s._)("a",{href:"https://chainlist.org/"},"Polygon network"),(0,s.Uk)(" and refresh page")])],-1),It=[Pt];function St(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("div",_t,It)}var Ot={};const xt=(0,w.Z)(Ot,[["render",St]]);var Dt=xt;const Mt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"}],At="0xF541dD4670C29c2D1b7B4A12462eBA79Cf378a04",Lt=[{inputs:[{internalType:"address",name:"_tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"NewMember",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"}],name:"NewWinner",type:"event"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"countOfMembersToCheck",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"currentCountOfMembers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getMemberInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Bt="0x743714E292344D515A87c7993e22c805b5111282";async function jt(){let e;if(console.log("Try to detect ethereum wallet"),window.ethereum?(console.log("Have window.ethereum"),e=window.ethereum):r().givenProvider?(console.log("Have Web3.givenProvider"),e=r().givenProvider):console.log("Don't have any wallet"),void 0!==e){this.web3=new(r())(e);try{console.log("Request accounts");let e=await this.web3.eth.requestAccounts();console.log("Received ",e),this.account=e[0]}catch(t){console.log("Access to wallet denied")}this.contract=new this.web3.eth.Contract(Mt,At),this.contestContract=new this.web3.eth.Contract(Lt,Bt);try{console.log("Check network"),await this.getTotalSupply(this.contract,this.account),console.log("Network is correct"),this.wrongNetwork=!1}catch(t){this.wrongNetwork=!0,console.log("Wrong network")}this.wrongNetwork||await this.updateMyTokens()}}var Ut={name:"SheepApp",mixins:[u],data(){return{web3:void 0,account:void 0,contract:void 0,contestContract:void 0,tokens:[],tokenListPage:1,tokenIdToSend:void 0,tokenIdToContest:void 0,tokensUpdateBatch:6,synced:!1,syncedPercent:0,wrongNetwork:!1}},computed:{hasWallet(){return void 0!==this.account},showPromo(){return this.synced&&0===this.tokens.length},showLoading(){return!this.synced&&0===this.tokens.length}},components:{LoadingPlaceholder:v,TopInfo:R,TokenList:Oe,TokenSend:$e,TokenContest:lt,PromoBuy:ht,InstallWallet:Ct,WrongNetwork:Dt},methods:{async updateTokenI(e){let t=await this.ownerOf(this.contract,this.accounts,e);if(t===this.account){let t=await this.getTokenURI(this.contract,this.account,e);try{let n=await l().get(t);return{tokenId:e,tokenJSON:n.data}}catch(n){console.log("Network error with token",e,", tokenURI",t)}}},async updateMyTokens(){function e(e){return void 0!==e}this.synced=!1,this.syncedPercent=0,this.changeTokenListPage(1),this.tokens.splice(0);let t=[],n=await this.getTotalSupply(this.contract,this.account);for(let o=0;o<n;++o){if(t.push(this.updateTokenI(o)),t.length>=this.tokensUpdateBatch){let n=await Promise.all(t);this.tokens=[...this.tokens,...n.filter(e)],t.splice(0)}this.syncedPercent=Math.round(o/n*100)}if(t.length>0){let n=await Promise.all(t);this.tokens=[...this.tokens,...n.filter(e)]}this.syncedPercent=100,this.synced=!0},changeTokenListPage(e){this.tokenListPage=e},displaySendTokenDialog(e){this.tokenIdToSend=e},async sendToken(e){let t=this.tokenIdToSend;this.displaySendTokenDialog(void 0),!1!==await this.safeTransferFrom(this.web3,this.contract,this.account,e,t)&&(this.changeTokenListPage(1),this.tokens=this.tokens.filter((e=>e.tokenId!==t)))},displayContestTokenDialog(e){this.tokenIdToContest=e},async contestToken(){let e=this.tokenIdToContest;this.displayContestTokenDialog(void 0),!1!==await this.safeTransferFrom(this.web3,this.contract,this.account,Bt,e)&&(this.changeTokenListPage(1),this.tokens=this.tokens.filter((t=>t.tokenId!==e)))}},mounted:jt};const zt=(0,w.Z)(Ut,[["render",a]]);var Nt=zt;(0,o.ri)(Nt).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],a=e[c][2];for(var r=!0,d=0;d<o.length;d++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[d])}))?o.splice(d--,1):(r=!1,a<i&&(i=a));if(r){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,i=o[0],r=o[1],d=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(d)var c=d(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunksheep"]=self["webpackChunksheep"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(94)}));o=n.O(o)})();
//# sourceMappingURL=app.d763ab8a.js.map